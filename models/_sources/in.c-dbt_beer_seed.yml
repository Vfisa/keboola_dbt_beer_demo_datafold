version: 2
sources:
    -
        name: in.c-dbt_beer_seed
        freshness:
            warn_after:
                count: 1
                period: day
        database: '{{ env_var("DBT_KBC_DEV_DBT_BEER_DATABASE") }}'
        schema: in.c-dbt_beer_seed
        loaded_at_field: '"_timestamp"'
        tables:
            -
                name: seed_beers
                quoting:
                    database: true
                    schema: true
                    identifier: true
                columns:
                    -
                        name: '"id"'
                        tests:
                            - unique
                            - not_null
            -
                name: seed_breweries
                quoting:
                    database: true
                    schema: true
                    identifier: true
                columns:
                    -
                        name: '"id"'
                        tests:
                            - unique
                            - not_null
                    -
                        name: '"state"'    
                        tests:
                            - accepted_values:
                                values: ['OR','MA','ID','NC','NH','PA','NY','WI','IA','WA','CO','HI','KY','IN','OH','ME','SC','TX','MI','NM','GA','NE','AZ','VA','NJ','RI','FL','MS','DC','AL','MN','LA','TN','AR','ND','CA','VT','MT','MO','WV','CT','OK','KS','AK','UT','IL','DE','NV','SD','WY','MD']
